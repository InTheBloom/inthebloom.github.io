<!DOCTYPE html>
<html lang="ja">
<head>





<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>ABC315参加記録 - InTheDayDream</title>
<meta name="description" content="">

<meta name="author" content="">

<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?c=1c40ddeca8505931b50e9478fa983c31b3851f8a">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?c=1c40ddeca8505931b50e9478fa983c31b3851f8a">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?c=1c40ddeca8505931b50e9478fa983c31b3851f8a">
<link rel="alternate" href="/index.xml?c=1c40ddeca8505931b50e9478fa983c31b3851f8a" type="application/rss+xml" title="RSS" />
<meta property="og:title" content="ABC315参加記録 - InTheDayDream">
<meta property="og:url" content="https://inthebloom.github.io/post/abc315/">
<meta property="og:type" content="article">
<meta property="og:site_name" content="InTheDayDream">
<meta property="og:description" content="">

<meta property="og:image" content="https://inthebloom.github.io//images/featured_image.jpg">

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@UU9782wsEdANDhp">
<meta name="twitter:creator" content="@UU9782wsEdANDhp">
<meta name="twitter:title" content="ABC315参加記録 - InTheDayDream">
<meta name="twitter:url" content="https://inthebloom.github.io/post/abc315/">
<meta name="twitter:description" content="">

<meta property="og:image" content="https://inthebloom.github.io//images/featured_image.jpg">


<link rel="stylesheet" href="/css/main.css?c=1c40ddeca8505931b50e9478fa983c31b3851f8a">
<link rel="stylesheet" href="/css/color.css?c=1c40ddeca8505931b50e9478fa983c31b3851f8a">


<link rel="stylesheet" href="/css/custom.css?c=1c40ddeca8505931b50e9478fa983c31b3851f8a">



</head>

<body class="theme-default">






<div id="content-header" class="title">
  
  <a class="site-title" href="/">InTheDayDream</a>
  
  <span class="site-sub-title"></span>

  

  <div id="main-menu-nav">
    <div id="main-menu-nav-items">
      
        <div class="nav-item"><a href="/">Home</a></div>
      
        <div class="nav-item"><a href="/tags/">Tags</a></div>
      
        <div class="nav-item"><a href="/archives/">Archives</a></div>
      
        <div class="nav-item"><a href="/about/">About</a></div>
      
        <div class="nav-item"><a href="/search/">Search</a></div>
      
    </div>
  </div>
</div>
<div id="content" class="main">




<h1>ABC315参加記録</h1>

<span class="sub">Published on 2023-08-24</span><br>
<span class="sub">Last Modified 2023-12-01</span>






<div style="padding: 0em 1em; margin-bottom: 5em; margin-top: 0.7em;">
    <p style="font-size: 1.3em;">Table Of Contents</p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#はじめに">はじめに</a></li>
    <li><a href="#戦績">戦績</a></li>
    <li><a href="#所感">所感</a></li>
    <li><a href="#解法">解法</a>
      <ul>
        <li><a href="#a---tcdrhttpsatcoderjpcontestsabc315tasksabc315_a"><a href="https://atcoder.jp/contests/abc315/tasks/abc315_a">A - tcdr</a></a></li>
        <li><a href="#b---the-middle-dayhttpsatcoderjpcontestsabc315tasksabc315_b"><a href="https://atcoder.jp/contests/abc315/tasks/abc315_b">B - The Middle Day</a></a></li>
        <li><a href="#c---flavorshttpsatcoderjpcontestsabc315tasksabc315_c"><a href="https://atcoder.jp/contests/abc315/tasks/abc315_c">C - Flavors</a></a></li>
        <li><a href="#d---magical-cookieshttpsatcoderjpcontestsabc315tasksabc315_d"><a href="https://atcoder.jp/contests/abc315/tasks/abc315_d">D - Magical Cookies</a></a></li>
        <li><a href="#e---prerequisiteshttpsatcoderjpcontestsabc315tasksabc315_e"><a href="https://atcoder.jp/contests/abc315/tasks/abc315_e">E - Prerequisites</a></a></li>
      </ul>
    </li>
    <li><a href="#終わりに">終わりに</a></li>
  </ul>
</nav>
</div>



<h2 id="はじめに">はじめに</h2>
<p>本稿は2023/8/19に行われた
<a
  
    href="https://atcoder.jp/contests/abc315"
  
   target="_blank" rel="noopener">
    ABC315
</a>
の参加記録です。</p>
<h2 id="戦績">戦績</h2>
<p>今回の提出は以下のとおりです。</p>
<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1692866452/pictures/abc315/submission-min_cgxixc.png" alt=""></p>
<p>レーティング変化は以下のとおりです。</p>
<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1692866452/pictures/abc315/rating-min_auhqpi.png" alt=""></p>
<p>A, B, C, D, Eの5完で、レーティング変動は
<span style="color: green;">979</span>=&gt;<span style="color: green;">1032</span>(+53)でした。</p>
<h2 id="所感">所感</h2>
<p>今回でついにレーティング1000の大台に乗ることができました！かなり嬉しいです。
最近のABCでかなり手痛い負け(負けでないにしろ、解けないとダメだった問題を落としたり)が続いていたため、
今回で多少モチベが回復したような気がします。</p>
<p>コンテストに対する感想としては、今回D問題がかなり重実装(?)の問題だったようです。
当たりの方針を引いて、かつうまく実装できないと解くのが難しかったようで、difficultyが水色になっていました。
私は運良く筋の良い方針を見つけることができたため、なんとか通すことができました。
これが今回のパフォーマンスの上ブレに繋がったようです。</p>
<p>E問題は解けはしましたが、割と試行錯誤して通した感じがあります。
もっと問題の本質を見極められるようになりたいなと思います。</p>
<h2 id="解法">解法</h2>
<h3 id="a---tcdrhttpsatcoderjpcontestsabc315tasksabc315_a">
<a
  
    href="https://atcoder.jp/contests/abc315/tasks/abc315_a"
  
   target="_blank" rel="noopener">
    A - tcdr
</a>
</h3>
<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1692866452/pictures/abc315/A-min_ftencj.png" alt=""></p>
<p>Sの長さが十分に短いので、一つづつチェックするだけで良いです。
一文字のチェックに5回の同値判定をすれば良いので一回の判定がO(1)、全体O(|S|)です。</p>
<p>
<a
  
    href="https://atcoder.jp/contests/abc315/submissions/44708870"
  
   target="_blank" rel="noopener">
    提出
</a>
</p>
<h3 id="b---the-middle-dayhttpsatcoderjpcontestsabc315tasksabc315_b">
<a
  
    href="https://atcoder.jp/contests/abc315/tasks/abc315_b"
  
   target="_blank" rel="noopener">
    B - The Middle Day
</a>
</h3>
<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1692866452/pictures/abc315/B-min_vdc9k2.png" alt=""></p>
<p>制約から、必ず真ん中の日が存在して、それは<code>(Dの総和+1)/2</code>になります。
D_1から順に総和をとっていき、初めて<code>(真ん中の日)&lt;=(総和+D_x)</code>となる<code>x</code>が真ん中の日を含む月になります。
また、その月の<code>(真ん中の日)-(総和)</code>日目が真ん中の日になります。
混乱してしまう場合は、一旦紙に書いて一つづつ数えるとわかりやすいと思います。(自分もこういうの苦手です。)</p>
<p>計算量は、総和でO(M)、前からのシミュレーションでO(M)であるから、全体O(M)です。</p>
<p>
<a
  
    href="https://atcoder.jp/contests/abc315/submissions/44715086"
  
   target="_blank" rel="noopener">
    提出
</a>
</p>
<h3 id="c---flavorshttpsatcoderjpcontestsabc315tasksabc315_c">
<a
  
    href="https://atcoder.jp/contests/abc315/tasks/abc315_c"
  
   target="_blank" rel="noopener">
    C - Flavors
</a>
</h3>
<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1692866452/pictures/abc315/C-min_g3tl0f.png" alt=""></p>
<p>素直にやるなら、N個から2つ選ぶ全探索のO(N^2)です。
これは間に合いません。</p>
<p>この手のO(N^2)(だけではないが)が通らないタイプの問題にはいくつかパターンがあり、よくあるのは</p>
<ul>
<li>何らかの前計算をしておき、各ケースの計算量を落とす。</li>
<li>分割統治で擬線形時間に落とす。(例: ソートなど)</li>
<li>動的計画法により前進的に(そうでない場合は、トポロジカル順に)求める。</li>
<li>実は探索するべきものはそんなに多くない。</li>
</ul>
<p>とかです。
今回は、問題をよく見ると、全探索を減らすことができそうだとわかります。
場合分けしましょう。</p>
<ol>
<li>2つのアイスの種類が同じ: 美味しさのトップ2を取ればよい。</li>
<li>2つのアイスの種類が違う:
(異なるアイスの)美味しさのトップ2を取れば良い。</li>
</ol>
<p>さて、1番はO(N)個の候補しかなく、2番は高々一つの候補しかありません。
ただし注意として、これらのうちどちらか片方は候補が一つも存在しないことがありえます。(両方候補がなくなることはないです。)</p>
<p>前処理をさくっとできれば、残りは線形時間で処理できそうです。</p>
<p>というわけで、アイスを種類ごとに振り分けてソートし、(存在すれば)それぞれの候補値のmaxを取れば良いです。</p>
<p>
<a
  
    href="https://atcoder.jp/contests/abc315/submissions/44724476"
  
   target="_blank" rel="noopener">
    提出
</a>
</p>
<p>私は候補が存在しないケースに気づかずに2WAしました:(</p>
<h3 id="d---magical-cookieshttpsatcoderjpcontestsabc315tasksabc315_d">
<a
  
    href="https://atcoder.jp/contests/abc315/tasks/abc315_d"
  
   target="_blank" rel="noopener">
    D - Magical Cookies
</a>
</h3>
<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1692866452/pictures/abc315/D-min_fwc8du.png" alt=""></p>
<p>今回の激ヤバ問題です。 色々考えました。</p>
<p>最初は印をつけたやつを即時消してよいのかと思っていました。
しかし、サンプル2を見て、定義された操作の順番に操作しないとダメなケースがあるなと気づき、
シミュレーションで解く方向に舵を切りました。</p>
<p>完全にそのままシミュレーションしてしまうと、
一回の操作あたりO(HW)となり、全体O((HW)^2)になりそうだなーという感じでダメそうです。
というわけで、配列で各行、各列の「残っている色の種類数」「クッキーの総数」を管理しながらシミュレーションしました。</p>
<p>削除する列(行)となくなるクッキーの色をキューで管理して、楽に削除クエリを処理できるようにしました。(説明が難しい)</p>
<p>自分の文章力だと限界なので、提出例から読み取ってくれ(丸投げ)</p>
<p>
<a
  
    href="https://atcoder.jp/contests/abc315/submissions/44746830"
  
   target="_blank" rel="noopener">
    提出
</a>
</p>
<h3 id="e---prerequisiteshttpsatcoderjpcontestsabc315tasksabc315_e">
<a
  
    href="https://atcoder.jp/contests/abc315/tasks/abc315_e"
  
   target="_blank" rel="noopener">
    E - Prerequisites
</a>
</h3>
<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1692866453/pictures/abc315/E-min_zoe7ub.png" alt=""></p>
<p>順番を考えなければ、必要な本を見つけるのはそれほど難しいことではないです。
具体的には、「その本が必要とする本」へ辺を張って、本1から辿れる連結成分が必要な本です。
無向グラフにしてしまうと変な本を取り込んでしまうおそれがあるので、有向グラフでやりましょう。</p>
<p>変な本を取り込む例:
本1が本2を必要とし、本3が本2を必要とするとき、連結成分に本3も含まれるが、別にいらない。</p>
<p>この連結成分をいい感じの順番で出力すればACです。
ある時点で読むことのできる本の条件は、その本が必要とする本を全部読んでいることです。
これをグラフで表現すると、その本から有向辺でつながっている本を全部読み終わっていることといえます。</p>
<p>ここで、出次数をうまく扱います。
先程の条件は、出次数を用いると、「出自数が0の本なら読んでも良い」になります。
読んだ本へと伸びている辺を切っていけば(辺の始点の出次数を減らせば)順番に上がっていくことができます。</p>
<p>すまん、うまく説明できない。「トポロジカル順序」でググってくれ(丸投げ)(最悪)</p>
<p>
<a
  
    href="https://atcoder.jp/contests/abc315/submissions/44760033"
  
   target="_blank" rel="noopener">
    提出
</a>
</p>
<p>自分の提出では、有向辺を逆向きにたどるために、後から逆方向の辺を張って無向グラフに変えています。</p>
<h2 id="終わりに">終わりに</h2>
<p>ブログエントリ作るの時間かかる上に、問題をちゃんと解けないとネタがないから割と大変です。。
このブログはかなりメチャクチャな構造をしているので、最近どうにか改装しようと頑張っているのですが、こっちも思った以上に大変で心が折れそう。</p>
<p>まあなんにせよ引き続き競プロがんばります。</p>






<hr class="block-separater">




<div class="content-footer-item">
	Tags for this post:
	
	<a class="post-tag" href="/tags/%E7%AB%B6%E6%8A%80%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/">競技プログラミング</a>
	
	<a class="post-tag" href="/tags/%E3%82%B3%E3%83%B3%E3%83%86%E3%82%B9%E3%83%88%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B2/">コンテスト参加記録</a>
	
</div>







<div class="content-footer-item neighbor">
	
	<div class="prev-post">Prev: <a href="/post/modpow/">繰り返し二乗法について</a></div>
	
	
	<div class="next-post">Next: <a href="/post/hugo-setting/">InTheDayDreamをhugoに移行するためにやったことたち</a></div>
	
</div>













    
    
    
    <div class="related-tag-category-list">
        <h4 style="font-size: 1.3em;">Other posts tagged by "競技プログラミング"</h4>
        <ul class="post-list">
          
          <li class="post-item">
  <div class="post-date sub">2025-12-13</div>
  <div class="post-title"><a href="/post/uecpg-advent2025-2/">最近知ったスライド最小値関連のアルゴリズムをご紹介</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-08-21</div>
  <div class="post-title"><a href="/post/solve-extra-constraints/">ABC239EとABC372Eをより強い条件で解いてみる</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-07-12</div>
  <div class="post-title"><a href="/post/range-kth-smallest-part2/">Range Kth Smallestに対するもう2つの解法</a></div>
  
</li>
          
        </ul>
        <div class="more-area">
          
          <a class="more" href='/tags/%e7%ab%b6%e6%8a%80%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0/'>more ...</a>
          
      </div>
        </div>
    

    
    
    
    <div class="related-tag-category-list">
        <h4 style="font-size: 1.3em;">Other posts tagged by "コンテスト参加記録"</h4>
        <ul class="post-list">
          
          <li class="post-item">
  <div class="post-date sub">2025-07-05</div>
  <div class="post-title"><a href="/post/icpc2025/">ICPC国内予選2025（Chofu Mai）</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-06-03</div>
  <div class="post-title"><a href="/post/abc408/">ABC408参加記録</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-05-01</div>
  <div class="post-title"><a href="/post/toupc001/">TOUPC001に参加してきた</a></div>
  
</li>
          
        </ul>
        <div class="more-area">
          
          <a class="more" href='/tags/%e3%82%b3%e3%83%b3%e3%83%86%e3%82%b9%e3%83%88%e5%8f%82%e5%8a%a0%e8%a8%98%e9%8c%b2/'>more ...</a>
          
      </div>
        </div>
    




<script src="/js/single.js"></script>





	</div><div id="content-footer" class="sub">
  
  <div class="credit">
    Power by <a href="https://gohugo.io">Hugo</a> /
    Theme <a href="https://github.com/michimani/simplog/">simplog</a> by <a href="https://github.com/michimani/">michimani</a>
  </div>
</div></body>

</html>