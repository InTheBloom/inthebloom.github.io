<!DOCTYPE html>
<html lang="ja">
<head>





<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>TOUPC001に参加してきた - InTheDayDream</title>
<meta name="description" content="">

<meta name="author" content="">

<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?c=b13c787981aa71b33eac4c42b72a6cb058db35c9">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?c=b13c787981aa71b33eac4c42b72a6cb058db35c9">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?c=b13c787981aa71b33eac4c42b72a6cb058db35c9">
<link rel="alternate" href="/index.xml?c=b13c787981aa71b33eac4c42b72a6cb058db35c9" type="application/rss+xml" title="RSS" />
<meta property="og:title" content="TOUPC001に参加してきた - InTheDayDream">
<meta property="og:url" content="https://inthebloom.github.io/post/toupc001/">
<meta property="og:type" content="article">
<meta property="og:site_name" content="InTheDayDream">
<meta property="og:description" content="">

<meta property="og:image" content="https://inthebloom.github.io//images/featured_image.jpg">

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@UU9782wsEdANDhp">
<meta name="twitter:creator" content="@UU9782wsEdANDhp">
<meta name="twitter:title" content="TOUPC001に参加してきた - InTheDayDream">
<meta name="twitter:url" content="https://inthebloom.github.io/post/toupc001/">
<meta name="twitter:description" content="">

<meta property="og:image" content="https://inthebloom.github.io//images/featured_image.jpg">


<link rel="stylesheet" href="/css/main.css?c=b13c787981aa71b33eac4c42b72a6cb058db35c9">
<link rel="stylesheet" href="/css/color.css?c=b13c787981aa71b33eac4c42b72a6cb058db35c9">


<link rel="stylesheet" href="/css/custom.css?c=b13c787981aa71b33eac4c42b72a6cb058db35c9">



</head>

<body class="theme-default">





<link rel="stylesheet" href="/katex/katex.min.css">
<script defer src="/katex/katex.min.js"></script>
<script defer src="/katex/contrib/auto-render.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              
              
          ],
          
          throwOnError : false
        });
    });
</script>



<div id="content-header" class="title">
  
  <a class="site-title" href="/">InTheDayDream</a>
  
  <span class="site-sub-title"></span>

  

  <div id="main-menu-nav">
    <div id="main-menu-nav-items">
      
        <div class="nav-item"><a href="/">Home</a></div>
      
        <div class="nav-item"><a href="/tags/">Tags</a></div>
      
        <div class="nav-item"><a href="/archives/">Archives</a></div>
      
        <div class="nav-item"><a href="/about/">About</a></div>
      
        <div class="nav-item"><a href="/search/">Search</a></div>
      
    </div>
  </div>
</div>
<div id="content" class="main">




<h1>TOUPC001に参加してきた</h1>

<span class="sub">Published on 2025-05-01</span><br>
<span class="sub">Last Modified 2025-05-01</span>






<div style="padding: 0em 1em; margin-bottom: 5em; margin-top: 0.7em;">
    <p style="font-size: 1.3em;">Table Of Contents</p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#はじめに">はじめに</a></li>
    <li><a href="#もろもろのこと">もろもろのこと</a></li>
    <li><a href="#コンテスト">コンテスト</a>
      <ul>
        <li><a href="#コンテスト開始">コンテスト開始</a></li>
      </ul>
    </li>
    <li><a href="#コンテスト終わった後">コンテスト終わった後</a></li>
    <li><a href="#感謝">感謝</a></li>
  </ul>
</nav>
</div>



<h2 id="はじめに">はじめに</h2>
<p>2025-04-26に東京通信大学プログラミングコンテスト（TOUPC）というオンサイトコンテストがあったので、参加してきました。</p>
<p>イベントのページは
<a
  
    href="https://connpass.com/event/335393/"
  
   target="_blank" rel="noopener">
    こちら
</a>

コンテストのページは
<a
  
    href="https://onlinejudge.u-aizu.ac.jp/beta/room.html#TOUPC001"
  
   target="_blank" rel="noopener">
    こちら
</a>
</p>
<h2 id="もろもろのこと">もろもろのこと</h2>
<p>今回のコンテストは</p>
<ul>
<li>低難易度問題が多数含まれていてガチ勢以外もウェルカム</li>
<li>主催のuruzunyaaさんとmanabeaiさんに面識がある</li>
<li>近い</li>
<li>いろいろと予定が合った</li>
</ul>
<p>などの理由により行くことにしました。
やっぱり問題解けないとオンサイト行っても言うほど面白くないよねという正直な気持ちがある。</p>
<p>会場は国立オリンピック記念青少年総合センターという場所でした。場所的には新宿の近くです。
私は京王線で向かったのですが、京王初台という多分今後行くことのない駅が最寄りでした。</p>
<p>前日は早く寝よう早く寝ようと思って9時くらいに寝たら午前3時にすんごい目が覚めてしまい、そこからほとんど眠れなかったためすごく微妙な体調で臨みました。睡眠とかいうの本当にバカらしいですよね。生物の欠陥のひとつといっても過言じゃないと思う。</p>
<p>12時くらいに初台に到着して、お昼にカレーを食べました。</p>
<p><img src="/images/toupc001/lunch.jpg" alt="お昼ご飯のカレー"></p>
<p>
<a
  
    href="https://tabelog.com/tokyo/A1318/A131807/13175832/"
  
   target="_blank" rel="noopener">
    ターリー屋
</a>
というチェーン店らしいんですが、思ったよりいっぱい出てきて食べるの大変でした。これから3時間集中しようって時に何してるんでしょうか。
あと食べてるときお店に私しかいなかったんですがなんだったのでしょうか。（お昼時ではないのか？）
いずれにしろ、体調がアレな時にドカ食いするのはやめましょう。（至言）</p>
<p>会場は建物の4階でした。</p>
<p><img src="/images/toupc001/venue.jpg" alt="国立オリンピック記念青少年総合センター"></p>
<p>思ったよりも早く到着してしまい、運営の方を除いて3番乗りだったみたいです。
受付でゴリちゃんさんと間違われそうになったんですがなんだったんでしょうかあれは？</p>
<p>久しぶりにuruzunyaaさん、manabeaiさんと会いしましたが、変わりない様子でした。（情報量0すぎ！？）</p>
<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">TOUPCぼちぼち頑張りマス<br>若干眠くて参った😴</p>&mdash; In (@UU9782wsEdANDhp) <a href="https://twitter.com/UU9782wsEdANDhp/status/1915974528318202337?ref_src=twsrc%5Etfw">April 26, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>これスカして若干とか言ってますけど結構ガチで眠くて焦ってました。</p>
<h2 id="コンテスト">コンテスト</h2>
<p>実は一週間ほど前にtwitter（鋼の意思）で
<a
  
    href="https://x.com/koheijkt"
  
   target="_blank" rel="noopener">
    DP学ぶマン
</a>
さんからチームどうですかと声をかけていただいていたので、当日はteam_bloomとして2人チームで出ました。（余談なのですが、僕のInTheBloomというハンドルはどちらかというとInの方が本体なのです。名字だけ取ったみたいな気持ちですが、こっちのほうがかっこいいから結果オーライですね。）
僕が1600くらい、学ぶマンさんが1400くらいなので普通のオンサイトだと組めるかどうかギリギリのラインでしたがTOUPCは優しいので余裕でした。（なんならもう一人入れることもできた。）</p>
<p>言語何を使うか迷っていたんですが、なんとAOJのジャッジが2025年3月あたりにアップデートが入っており、D言語のほぼ最新バージョンが使えるようになっていました。神すぎる。
というわけで僕がD言語、DP学ぶマンさんがpython3という異色の構成で挑みました。</p>
<h3 id="コンテスト開始">コンテスト開始</h3>
<p>ここからは常体のほうがよさげだったので常体でいきます。</p>
<p>とりあえず先頭4問が簡単らしいので分担することに。僕がBD、DP学ぶマンさんがACを担当。</p>
<p>開始1分でDP学ぶマンさんがAを<strong>AC</strong>。さすがに早い。
僕はBを読む。
よくあるbool2つで出力を分岐するやつ。適当に場合分けして<strong>AC</strong>を獲得。
まもなくDP学ぶマンさんがCを<strong>AC</strong>。</p>
<p>Dを読む。結構難しそうに見える。dpするにしても状態が大きすぎて無理なので、多分何らかの貪欲戦略があるのだろう。
少し後に条件を「$k$個連続しない」に言い換えると連続部分を潰していくのが最適になりそうだとわかる。「自明な下界を達成できて～」のパターンだった。何回見てもこれ系は慣れない。9分時点で<strong>AC</strong>。</p>
<p>ここからは解けそうなやつを探していく。DP学ぶマンさんがFを考察。僕はMとNを見て様子をうかがう。</p>
<p>Nは$O(N \log N)$すら通らない制約だし、順列を決めていくのなんてどうせろくな方法がないだろうというメタ読みをしてARC的算数を考える。が、一向に見えない。一旦Mに行く。（あとで気づいたのだが、この時の方針はかなり正しかったらしい。2を置くときにすでに決定した奴と隣接させないといけないというのをなぜか見落としていたらしい。）</p>
<p>Mは明らかな$\Omega (2^{HW})$解法が見える。が、これ以上はかなり厳しそう。
例えばパスの方を固定して盤面を数え上げるとなっても重複の解消をしないといけない。dpとか難しい包除とかをやる問題に見える。</p>
<p>一旦諦めてIを見に行く。いつもの連結になったら消していくやつ（消してはじめて連結になるやつもあるよ！）だった。これ系はstackだと相場が決まっているのでその線で考える。普通に同じ色がたくさん並んでいるのを見たりすると死ぬが、何個連続しているかを持っておけばいつものカッコ列のやつみたいにできる。
最適性についてはそこまで考えていないが、取る順番を変えて状況が変わるような例も思いつかなかったので投げた。開始35分で<strong>AC</strong>。</p>
<p>ここでDP学ぶマンさんがFを詰め切れないということだったのでバトンタッチ。DP学ぶマンさんはGの考察へ。
うまいこと照らされているマスを数え上げることも考えたが、複数ライトに照らされている部分の処理が非自明に感じたので一旦スルー。どう考えても暗いところを数える方が楽そう。</p>
<p>結論から言うと、いつもの等差数列の総和になる。右端と左端のマリオのゴール前階段みたいなやつは別途処理するとして、そうでない場所の暗闇を考える。一番上の部分が長さ$A _ {i + 1} - A _ i - 1$で、そこから1段下るごとに$-2$されていく。何段になったら消滅するかはわかるので、合計何項足すのかは算数で求まる。
あとは適当に展開するといつもの$\sum _ {i = 1} ^ N i$の計算に帰着。これも結局算数ができて線形時間近くで解ける。
ただし、$A$の値が64bitぎりぎりなので多倍長整数を使わないと多分落ちる。適切に頑張れば64bitでもできそうだったけどそんなことをやるほどカツカツではなかった。
1時間6分時点で<strong>AC</strong>を獲得。</p>
<p>Gはあまり見ていないが、開始1時間4分でDP学ぶマンさんが<strong>AC</strong>を獲得してくれていた。</p>
<p>残りの問題はEHJKLMNだったが、明らかにAC数が少ない問題がちらほら。それらを避けて解けそうなやつを解いていく。</p>
<p>Hが解けそうだったので考察に入る。
互いに素な連続部分列をいくつかピックして得点を最大化する問題。かなりヤバいことをやっているように見える。
貪欲なわけがないのでdpを考察。
dpをするなら遷移一回につきひとつの連続部分列をガッと取ってしまいたいわけで（そうじゃない場合もあるけど今回は連続部分列のピックにも条件が課されているから今ピック中で～みたいな状態を入れると状態数が爆発する。）、そうするとdp[i]:=iまでの選択が済んでいて、最後にとった連続部分列の末尾がiであるような取り方の最大みたいなdpが自然に思いつく。</p>
<p>ここで連続部分列に対するテクニックが活きた。
こういうのは配るのではなく、変数分離してうまくデータ構造上で貰う形に直すのが典型だ。どういうことなのかというと、今回でいうと連続部分列$A[l], A[l + 1], \dots, A[r]$を選択できる条件というのは$\sum _ {i = l} ^ r B _ i \leq \sum _ {i = l} ^ r A _ i$である。これを変形して$0 \leq \sum _ {i = l} ^ r A _ i - B _ i$に持っていく。
ここからがキモで、あえてこれを累積和の形で書き直すのだ。
つまり、$A _ i - B _ i$の累積和を$D$としたとき、大体$0 \leq D _ r - D _ l$みたいな条件にまとまる。（off-by-oneは適当。）
こうすることで、$r$側から見たとき<strong>区間の始まりがどこからだったかみたいな情報を全部無視して遷移先を選ぶことができるようになっている。</strong> 具体的には、各$l$たちはセグメント木などの$D _ l$の場所に値を積んでおくことによって、後ほど$r$側から見たときに条件を満たすやつだけを高速にピック出来るようになるということだ。</p>
<p>ピックしたときに得る利得がいくらか？というのを遷移に盛り込まないといけないが、これも同様の変数分離テクニックによって解決できる。$\sum _ {i = l} ^ r C _ i$の利得というのを考えるとき、あえて累積和を経由して$E _ r - E _ l$みたいな形にしておく。そして各$dp$値は値が確定してセグメント木に積み込むときにあえて$-E _ l$して積み込んでおく。こうすることで、$r$側から見たときにはmaxをピックして$E _ r$を足すだけで適切に更新ができるようになっている。まさにマジックだといえる。
というわけであとは適当に頑張ると1時間55分時点で<strong>AC</strong>を獲得。</p>
<p>なんとHを解いている間にDP学ぶマンさんがKとN（N全然わからなかったので超ファインプレー！）を解いてくれていた。
Nは1を配置してからじっくり順列を観察できるかがカギだった。よく見るとそれ以降の数はほとんど置く場所に自由度がなく、せいぜい両端のどちら側に配置するかという2択を選び続けるという感じだったらしい。
Kはデバッグプリントのせいでペナっていたらしく、ウケた。</p>
<p>のこる可能枠はMしかないっぽいので再び向き合う。
いろいろ考えてみてもやっぱり到達不可能な盤面が生起する確率を考えるdpみたいなことをするんじゃないかと思う。よく考えると人は右と下にしか動けないのだから、人が動ける範囲の最新箇所がどうなってるのかがわかればそれに至るまでにどんな隕石の降り方をしたかは関係なさそう。
というわけでdp[i][S]:=上からi行目まで隕石の割り当てを決めて、到達可能場所がSになるような盤面が生起する確率というdpを組んだ。ここまで組んで、ようやく直接ゴールできる盤面の生起確率を考えてもよいということに気が付いた。</p>
<p>到達可能座標が1、不可能座標を0としたとき、初期状態では10000, 11000, 11100, &hellip;みたいなものだけを考える。
遷移は$\lbrace 1, 2, \dots W \rbrace$の任意の部分集合から任意の部分集合へを考える。
このdp定義は実は大ハズレ方針だった。想定解は「人がi回移動した際の」という定義だったため、行ごとに割り当てを決めるこのdpでは遷移可能かどうかの判定や、確定させないといけない隕石の決定にすごく手間取った。
例えばdp遷移が可能な座標集合かどうかを判定する関数<code>possible</code>は以下のようになった。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-d" data-lang="d"><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">possible</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> X<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> Y<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span> <span style="color:#f92672">(</span>i<span style="color:#f92672">;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> W<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;</span> <span style="color:#f92672">(</span>X <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> i<span style="color:#f92672">))</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;</span> <span style="color:#f92672">(</span>Y <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> i<span style="color:#f92672">)))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Yの右側に連結なbitを全部消滅させる。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">int</span> hi <span style="color:#f92672">=</span> i<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>hi <span style="color:#f92672">&lt;</span> W<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">((</span>Y <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> hi<span style="color:#f92672">))</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>                Y <span style="color:#f92672">^=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> hi<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>                hi<span style="color:#f92672">++;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Y <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>これはdp[i][S]からdp[i + 1][T]が可能かどうかを判定するものだ。例えば</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>S: 1001001101
</span></span><span style="display:flex;"><span>T: 0001110101
</span></span></code></pre></div><p>を考えたとき、S側とT側で両者立っているbitがあれば、Sから右下に動いてTの1のbitを出来るだけを潰すということをやっている。（この例は遷移可能。）</p>
<p>遷移可能がわかったら、次は各隕石について</p>
<ol>
<li>降らないといけない</li>
<li>降ってはいけない</li>
<li>どちらでもよい</li>
</ol>
<p>を判定することで遷移の係数を決定する必要がある。これもいくつかコネコネしないといけない。
最終的に以下のような関数を書いて32bitにその情報を詰め込むようにした。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-d" data-lang="d"><span style="display:flex;"><span>Tuple<span style="color:#f92672">!(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> check <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> S<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> T<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// T側で1は隕石が降らない。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// T側で左にある1に隣接してる0は隕石が降る。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// S側が1かつT側が0な場所は隕石が降る。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// これで決まらないやつはどうでもいい。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> fall <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> nofall <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span> <span style="color:#f92672">(</span>j<span style="color:#f92672">;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> W<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;</span> <span style="color:#f92672">(</span>T <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> j<span style="color:#f92672">)))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            nofall <span style="color:#f92672">|=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> j<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span> <span style="color:#f92672">(</span>j<span style="color:#f92672">;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> W<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">((</span>T <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> j<span style="color:#f92672">))</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;</span> W <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;</span> <span style="color:#f92672">(</span>T <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">(</span>j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">))))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                fall <span style="color:#f92672">|=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> j<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span> <span style="color:#f92672">(</span>j<span style="color:#f92672">;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> W<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;</span> <span style="color:#f92672">(</span>S <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> j<span style="color:#f92672">))</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">(</span>T <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> j<span style="color:#f92672">))</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            fall <span style="color:#f92672">|=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> j<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> tuple<span style="color:#f92672">(</span>fall<span style="color:#f92672">,</span> nofall<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>これらを丁寧に書いて出すと<strong>AC</strong>を得ることができた。2時間54分時点だった。
途中で人が左に動けないことを忘れておりペナルティを食らった。（正直よく気づけたなと思う。）</p>
<p><img src="/images/toupc001/result.png" alt="順位表"></p>
<p>11ACで全体18位だった。結局他の問題はほとんどACが出なかったため、かなり好成績を残せたと思う。</p>
<p>DP学ぶマンさんに大感謝(人&rsquo;&rsquo;▽｀)</p>
<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">TOUPC BDFHIMを解きました。祈って投げたやつ全部通る奇跡が起きてました。<br>運営の皆さんありがとうございました🙇‍♂️楽しかったです。</p>&mdash; In (@UU9782wsEdANDhp) <a href="https://twitter.com/UU9782wsEdANDhp/status/1916114938361483412?ref_src=twsrc%5Etfw">April 26, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>無限人にいいねされてびっくり。</p>
<h2 id="コンテスト終わった後">コンテスト終わった後</h2>
<p>会場にはたくさん競プロ勢の方はいたんですが、いかんせん私がコミュ弱というのもありはじめましての人にたくさん声をかけに行く勇気もありませんでした。
今思うとけんちょんさんに話しかけてみたらよかったかもしれません。競技プログラミングをはじめたころqiitaやはてなブログなどですごくお世話になったので。（現在もお世話になり続けている。）
でもけんちょんさんのまわりには強い競プロ勢がたくさんいそうで怖かったのでやめて正解だったかもしれない。</p>
<p>そんな時にcoindarwさんを発見したので、永遠にcoindarwさんに粘着していました。平衡二分木のmeldという概念を教えてもらってニコニコという感じでした。そろそろAVL木真面目に書こうかなと思います。
そのあとは新宿のサイゼリアに突撃して、10時前くらいに解散しました。
（ここで書くのはなんか卑怯な気もするんですが、もしよければまたご飯でもどうですか？僕は大体暇なので&hellip;）</p>
<p>11時前くらいに帰宅成功。驚くほど疲れていて、家に帰って上着を脱いでそのままおふとんに倒れこんでました。普段引きこもっているので少しアクティブに動くと後遺症がのこる&hellip;</p>
<p>翌日は午前中ずっと頭痛かったです。</p>
<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">昨日はしゃぎすぎて目と頭がやたらと痛い。体力つけたすぎる。</p>&mdash; In (@UU9782wsEdANDhp) <a href="https://twitter.com/UU9782wsEdANDhp/status/1916387617693720727?ref_src=twsrc%5Etfw">April 27, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>なんか思ったこと全部ツイートしてるなコイツ！？</p>
<h2 id="感謝">感謝</h2>
<p>久しぶりにオンサイトコンテストに行きましたが、（難易度帯が僕にとってちょうどよかったというのもあり）とても楽しませてもらいました。
改めて、コンテスト企画、開催お疲れさまでした。</p>
<p>もし第二回があればまた行きたいです。</p>






<hr class="block-separater">




<div class="content-footer-item">
	Tags for this post:
	
	<a class="post-tag" href="/tags/%E7%AB%B6%E6%8A%80%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/">競技プログラミング</a>
	
	<a class="post-tag" href="/tags/%E3%82%B3%E3%83%B3%E3%83%86%E3%82%B9%E3%83%88%E5%8F%82%E5%8A%A0%E8%A8%98%E9%8C%B2/">コンテスト参加記録</a>
	
</div>







<div class="content-footer-item neighbor">
	
	<div class="prev-post">Prev: <a href="/post/binarysearch-on-segmenttree/">min_leftとmax_rightの仕組みと実装を理解する</a></div>
	
	
	<div class="next-post">Next: <a href="/post/abc408/">ABC408参加記録</a></div>
	
</div>













    
    
    
    <div class="related-tag-category-list">
        <h4 style="font-size: 1.3em;">Other posts tagged by "競技プログラミング"</h4>
        <ul class="post-list">
          
          <li class="post-item">
  <div class="post-date sub">2026-01-09</div>
  <div class="post-title"><a href="/post/polynomial-division/">O(NM)時間多項式除算</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-12-13</div>
  <div class="post-title"><a href="/post/uecpg-advent2025-2/">最近知ったスライド最小値関連のアルゴリズムをご紹介</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-08-21</div>
  <div class="post-title"><a href="/post/solve-extra-constraints/">ABC239EとABC372Eをより強い条件で解いてみる</a></div>
  
</li>
          
        </ul>
        <div class="more-area">
          
          <a class="more" href='/tags/%e7%ab%b6%e6%8a%80%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0/'>more ...</a>
          
      </div>
        </div>
    

    
    
    
    <div class="related-tag-category-list">
        <h4 style="font-size: 1.3em;">Other posts tagged by "コンテスト参加記録"</h4>
        <ul class="post-list">
          
          <li class="post-item">
  <div class="post-date sub">2025-07-05</div>
  <div class="post-title"><a href="/post/icpc2025/">ICPC国内予選2025（Chofu Mai）</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-06-03</div>
  <div class="post-title"><a href="/post/abc408/">ABC408参加記録</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2025-05-01</div>
  <div class="post-title"><a href="/post/toupc001/">TOUPC001に参加してきた</a></div>
  
</li>
          
        </ul>
        <div class="more-area">
          
          <a class="more" href='/tags/%e3%82%b3%e3%83%b3%e3%83%86%e3%82%b9%e3%83%88%e5%8f%82%e5%8a%a0%e8%a8%98%e9%8c%b2/'>more ...</a>
          
      </div>
        </div>
    




<script src="/js/single.js"></script>





	</div><div id="content-footer" class="sub">
  
  <div class="credit">
    Power by <a href="https://gohugo.io">Hugo</a> /
    Theme <a href="https://github.com/michimani/simplog/">simplog</a> by <a href="https://github.com/michimani/">michimani</a>
  </div>
</div></body>

</html>